<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.532a37c814ebc0603766.css">.chat-message{max-width:75%}.chat-message label{display:block}.chat-message p{border-radius:.25rem;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word;display:inline-block;max-width:100%}.chat-message-mine{text-align:right}.chat-message-mine p{background-color:var(--color-paper-dark);text-align:left}.chat-message-theirs p{background-color:var(--color-green);--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid var(--color-paper-darker)}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.h1,h1{margin-bottom:1.5rem;font-size:2.25rem}.h2,h2{font-size:1.5rem}.h2,.h3,h2,h3{margin-bottom:.5rem}.h3,h3{font-size:1.25rem}p{margin-bottom:1rem}button:focus,summary:focus{outline:0}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.card{box-shadow:0 5px 25px 0 rgba(0,0,0,.18)}@media (min-width:1280px){.container{max-width:1024px}}.bg-gray-400{--bg-opacity:1;background-color:#cbd5e0;background-color:rgba(203,213,224,var(--bg-opacity))}.bg-gray-900{--bg-opacity:1;background-color:#1a202c;background-color:rgba(26,32,44,var(--bg-opacity))}.bg-paper{background-color:var(--color-paper)}.bg-paper-darker{background-color:var(--color-paper-darker)}.bg-paper-dark{background-color:var(--color-paper-dark)}.bg-accent-200{background-color:var(--color-accent-200)}.bg-green-500{--bg-opacity:1;background-color:#48bb78;background-color:rgba(72,187,120,var(--bg-opacity))}.bg-navy-dark{--bg-opacity:1;background-color:#092747;background-color:rgba(9,39,71,var(--bg-opacity))}.hover\:bg-gray-500:hover{--bg-opacity:1;background-color:#a0aec0;background-color:rgba(160,174,192,var(--bg-opacity))}.hover\:bg-paper-darker:hover{background-color:var(--color-paper-darker)}.hover\:bg-paper-dark:hover{background-color:var(--color-paper-dark)}.hover\:bg-accent:hover{background-color:var(--color-accent)}.hover\:bg-green-600:hover{--bg-opacity:1;background-color:#38a169;background-color:rgba(56,161,105,var(--bg-opacity))}.border-paper-dark{border-color:var(--color-paper-dark)}.border-accent-200,.focus\:border-accent-200:focus{border-color:var(--color-accent-200)}.rounded{border-radius:.25rem}.rounded-xl{border-radius:.75rem}.rounded-full{border-radius:9999px}.rounded-t{border-top-right-radius:.25rem}.rounded-t,.rounded-tl{border-top-left-radius:.25rem}.rounded-br-xl{border-bottom-right-radius:.75rem}.border-2{border-width:2px}.border{border-width:1px}.border-t-2{border-top-width:2px}.border-b{border-bottom-width:1px}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.table{display:table}.table-cell{display:table-cell}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.flex-1{flex:1 1 0%}.flex-grow{flex-grow:1}.flex-shrink-0{flex-shrink:0}.font-mono{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-medium{font-weight:500}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-full{height:100%}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.text-lg{font-size:1.125rem}.text-xl{font-size:1.25rem}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.leading-tight{line-height:1.25}.m-1{margin:.25rem}.-m-1{margin:-.25rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.mx-3{margin-left:.75rem;margin-right:.75rem}.my-5{margin-top:1.25rem;margin-bottom:1.25rem}.my-8{margin-top:2rem;margin-bottom:2rem}.mx-auto{margin-left:auto;margin-right:auto}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mb-0{margin-bottom:0}.mb-1{margin-bottom:.25rem}.ml-1{margin-left:.25rem}.mt-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mt-3{margin-top:.75rem}.mr-3{margin-right:.75rem}.mb-3{margin-bottom:.75rem}.ml-3{margin-left:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.ml-4{margin-left:1rem}.mr-5{margin-right:1.25rem}.mt-6{margin-top:1.5rem}.ml-6{margin-left:1.5rem}.mt-8{margin-top:2rem}.mb-8{margin-bottom:2rem}.mt-10{margin-top:2.5rem}.mt-px{margin-top:1px}.max-h-full{max-height:100%}.max-w-xs{max-width:20rem}.max-w-sm{max-width:24rem}.max-w-md{max-width:28rem}.min-h-full{min-height:100%}.min-w-0{min-width:0}.object-cover{-o-object-fit:cover;object-fit:cover}.object-center{-o-object-position:center;object-position:center}.opacity-0{opacity:0}.opacity-50{opacity:.5}.hover\:opacity-100:hover{opacity:1}.outline-none{outline:2px solid transparent;outline-offset:2px}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-px{padding:1px}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-1{padding-left:.25rem;padding-right:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pr-2{padding-right:.5rem}.pb-2{padding-bottom:.5rem}.pt-4{padding-top:1rem}.pt-5{padding-top:1.25rem}.pb-6{padding-bottom:1.5rem}.pb-10{padding-bottom:2.5rem}.pb-px{padding-bottom:1px}.placeholder-pen-lighter::-moz-placeholder{color:var(--color-pen-lighter)}.placeholder-pen-lighter:-ms-input-placeholder{color:var(--color-pen-lighter)}.placeholder-pen-lighter::placeholder{color:var(--color-pen-lighter)}.placeholder-pen-light::-moz-placeholder{color:var(--color-pen-light)}.placeholder-pen-light:-ms-input-placeholder{color:var(--color-pen-light)}.placeholder-pen-light::placeholder{color:var(--color-pen-light)}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.resize-none{resize:none}.resize{resize:both}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.stroke-current{stroke:currentColor}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.text-gray-100{--text-opacity:1;color:#f7fafc;color:rgba(247,250,252,var(--text-opacity))}.text-gray-200{--text-opacity:1;color:#edf2f7;color:rgba(237,242,247,var(--text-opacity))}.text-gray-400{--text-opacity:1;color:#cbd5e0;color:rgba(203,213,224,var(--text-opacity))}.text-paper-dark{color:var(--color-paper-dark)}.text-pen-lighter{color:var(--color-pen-lighter)}.text-pen-light{color:var(--color-pen-light)}.text-accent{color:var(--color-accent)}.text-green-500{--text-opacity:1;color:#48bb78;color:rgba(72,187,120,var(--text-opacity))}.text-red-500{--text-opacity:1;color:#f56565;color:rgba(245,101,101,var(--text-opacity))}.text-danger{--text-opacity:1;color:#c53030;color:rgba(197,48,48,var(--text-opacity))}.hover\:text-white:hover{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.hover\:text-pen-lighter:hover{color:var(--color-pen-lighter)}.hover\:text-accent-700:hover{color:var(--color-accent-700)}.uppercase{text-transform:uppercase}.hover\:underline:hover{text-decoration:underline}.select-none{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.align-middle{vertical-align:middle}.whitespace-pre-wrap{white-space:pre-wrap}.w-12{width:3rem}.w-full{width:100%}.transform{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}:root{--light-color-pen:#000;--light-color-pen-lighter:#2d3748;--light-color-pen-light:#718096;--light-color-accent:#2b6cb0;--light-color-accent-700:#2c5282;--light-color-accent-200:#4299e1;--light-color-paper:#fff;--light-color-paper-darker:#edf2f7;--light-color-paper-dark:#e2e8f0;--light-color-green:#48bb78;--dark-color-pen:#ecf0f1;--dark-color-pen-lighter:#bdc3c7;--dark-color-pen-light:#9ea4a9;--dark-color-accent:#3498db;--dark-color-accent-700:#29b0ff;--dark-color-accent-200:#2980b9;--dark-color-paper:#181818;--dark-color-paper-darker:#303336;--dark-color-paper-dark:#505356;--dark-color-green:#38a169;--color-pen:var(--light-color-pen);--color-pen-lighter:var(--light-color-pen-lighter);--color-pen-light:var(--light-color-pen-light);--color-accent:var(--light-color-accent);--color-accent-700:var(--light-color-accent-700);--color-accent-200:var(--light-color-accent-200);--color-paper:var(--light-color-paper);--color-paper-darker:var(--light-color-paper-darker);--color-paper-dark:var(--light-color-paper-dark);--color-green:var(--light-color-green)}body{background-color:#fff;background-color:var(--color-paper);color:#000;color:var(--color-pen)}.header-image{filter:brightness(.85);max-height:50vh}[data-mounted] .transition-linear-150,[data-mounted] body,[data-mounted] nav{transition:background-color .15s linear}.shadow-md-dark{box-shadow:0 3px 6px 0 rgba(0,0,0,.15),0 1px 4px 1px rgba(0,0,0,.09)}.touch-action-none{touch-action:none}[data-theme=dark]{--color-pen:var(--dark-color-pen);--color-pen-lighter:var(--dark-color-pen-lighter);--color-pen-light:var(--dark-color-pen-light);--color-accent:var(--dark-color-accent);--color-accent-700:var(--dark-color-accent-700);--color-accent-200:var(--dark-color-accent-200);--color-paper:var(--dark-color-paper);--color-paper-darker:var(--dark-color-paper-darker);--color-paper-dark:var(--dark-color-paper-dark);--color-green:var(--dark-color-green)}[data-theme=dark] nav{background-color:#fff;background-color:var(--color-paper)}[data-theme=dark] .header-image{filter:brightness(.75) grayscale(.1)}[data-theme=dark] .card{box-shadow:0 5px 25px 0 rgba(0,0,0,.35)}[data-theme=dark] .shadow-md-dark{box-shadow:0 3px 6px 0 rgba(0,0,0,.35),0 1px 4px 1px rgba(0,0,0,.18)}.parskip-0 p{margin-bottom:0}[data-markdown]{max-width:56rem}[data-markdown] h1,[data-markdown] h2,[data-markdown] h3{margin-top:1.5rem}[data-markdown] h2,[data-markdown] h3{font-weight:600}[data-markdown] a{color:var(--color-accent)}[data-markdown] a:hover{color:var(--color-accent-700);text-decoration:underline}[data-markdown] .anchor{color:var(--color-pen-light)}[data-markdown] .anchor svg{stroke:currentColor}[data-markdown] ol,[data-markdown] ul{padding-left:2rem;margin-bottom:1rem}[data-markdown] ol ol,[data-markdown] ol p,[data-markdown] ol pre,[data-markdown] ol ul,[data-markdown] ul ol,[data-markdown] ul p,[data-markdown] ul pre,[data-markdown] ul ul{margin-bottom:0}[data-markdown] ol{list-style-type:decimal}[data-markdown] ul{list-style-type:disc}[data-markdown] ol>li{padding-left:.25rem}[data-markdown] .table-of-contents ul{list-style-type:none;padding-left:1rem}[data-markdown] pre{padding:.75rem;margin-bottom:1rem;background-color:var(--color-paper-darker);overflow-x:auto;line-height:1.25}[data-markdown] code{font-size:.875em}@media (min-width:640px){.sm\:w-auto{width:auto}}@media (min-width:1024px){.lg\:border-t-0{border-top-width:0}.lg\:border-l-2{border-left-width:2px}.lg\:flex-row{flex-direction:row}.lg\:flex-basis-2\/3{flex-basis:66.67%}.lg\:flex-basis-1\/3{flex-basis:33.33%}}</style><meta name="generator" content="Gatsby 2.25.2"/><title data-react-helmet="true">PureData Compiler | Dylan Burati</title><meta data-react-helmet="true" name="description" content="My personal website, built with Gatsby"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/favicon-32x32.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=63e0b008eeeb829346581f2691cad995"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=63e0b008eeeb829346581f2691cad995"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=63e0b008eeeb829346581f2691cad995"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=63e0b008eeeb829346581f2691cad995"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=63e0b008eeeb829346581f2691cad995"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=63e0b008eeeb829346581f2691cad995"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=63e0b008eeeb829346581f2691cad995"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=63e0b008eeeb829346581f2691cad995"/><link as="script" rel="preload" href="/webpack-runtime-b7e37034489d42b24f2a.js"/><link as="script" rel="preload" href="/framework-cd3e1e804d552fa282ef.js"/><link as="script" rel="preload" href="/app-c75bb9f9bef062204591.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/commons-b4e649402805a70aaf71.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-a20875c9afaeacbc876a.js"/><link as="fetch" rel="preload" href="/page-data/posts/puredata-compiler/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1448898329.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3000541721.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() {
  try {
    var initialTheme = localStorage.theme ? localStorage.theme : 'light';
    document.documentElement.dataset.theme = initialTheme;
  } catch(e) {
  }
})()</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="py-3 px-5 bg-navy-dark"><div class="container flex items-center mx-auto"><a class="font-semibold text-xl text-gray-200 hover:text-white" href="/">Dylan Burati</a><button title="Toggle Theme" class="text-gray-400 hover:text-white ml-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-current" style="fill:transparent"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button><div class="flex-grow"></div><a title="Blog" class="text-gray-400 hover:text-white ml-4" href="/blog">Blog</a><a title="GitHub" class="text-gray-400 hover:text-white ml-4" href="https://github.com/dylanburati"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-current" style="fill:transparent" title="GitHub"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a title="LinkedIn" class="text-gray-400 hover:text-white ml-4" href="https://linkedin.com/in/dylanburati"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-current" style="fill:transparent" title="LinkedIn"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></div></nav><main class="px-5"><div class="container mx-auto"><div class="my-8"><h1 class="mb-0">PureData Compiler</h1><span class="text-pen-lighter">Sep 30, 2019<span class="px-3 text-paper-dark text-lg pb-px">|</span>Dylan Burati</span></div><div data-markdown="true"><div><p>This post is about a tool I created for writing PureData patches as Python
programs. The current version is on <a href="https://github.com/dylanburati/puredata-compiler">Github</a> and <a href="https://pypi.org/project/puredata-compiler">PyPI</a> (supports
Python 3.5 and later).</p>
<h2 id="background" style="position:relative"><a href="#background" aria-label="background permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Background</h2>
<p>In late March 2019, I began writing an audio app for Android, similar to
GarageBand on iOS. The purpose of the app is to create and play instruments
based on <em>samples</em> - short audio clips that the user can map to different keys
on a virtual keyboard. I chose PureData as the audio library after several
Google searches, and with the help of the excellent <a href="http://pd-tutorial.com">pd-tutorial.com</a>,
used the built-in GUI to write a patch to read a .wav file and play it back.</p>
<h3 id="terminology" style="position:relative"><a href="#terminology" aria-label="terminology permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Terminology</h3>
<ul>
<li>
<p><strong>Patch</strong>: a program that the user writes graphically, which PureData runs</p>
<ul>
<li>patches generally run until they are force closed, generating audio in
response to user input</li>
</ul>
</li>
<li>
<p><strong>Object</strong>: a &quot;node&quot; in the patch, which performs some operation based on its
type and content</p>
<ul>
<li>different object types are represented as different shapes</li>
<li>the most common types have a user-defined string as their content</li>
</ul>
</li>
<li><strong>Inlet</strong>: the input slot(s) on the top of an object</li>
<li><strong>Outlet</strong>: the output slot(s) on the bottom of an object</li>
<li>
<p><strong>Connection (wire)</strong>: an &quot;edge&quot; in the patch, which must start at an outlet
and end at an inlet. These visually represent the data flow of the program.</p>
<ul>
<li>Inlets and outlets can have multiple connections each</li>
</ul>
</li>
</ul>
<p><img src="/assets/puredata-patch-example.png" alt="Example Patch"/>
<strong>Example Patch</strong>: plays a sine wave at 440 Hz on both stereo channels</p>
<h2 id="compiler-attempt-1" style="position:relative"><a href="#compiler-attempt-1" aria-label="compiler attempt 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compiler Attempt 1</h2>
<p>I built on my first patch to add a pitch parameter, but I did not make much
progress, since every change required a mouse action. I decided I would be more
productive using a text-based language for PureData. I found the .pd file format
docs <a href="https://puredata.info/docs/developer/PdFileFormat">here</a> and wrote the first draft of my compiler.</p>
<p>I ended up with a 550 line program, with the &quot;source&quot; to compile from in a long
multiline string at the top. The following is an excerpt:</p>
<pre><code class="language-python">from typing import *
import re

sample = &#x27;&#x27;&#x27;
def reactive_expr2
obj reactor{local} = &quot;trigger bang float&quot; ({2})
obj {3} = &quot;{0}&quot; ({1} reactor{local}$1, reactor{local}$2)
end

array array1 = &quot;array1&quot; ()

obj panel = &quot;receive sample_file&quot; ()
msg reader = &quot;read -resize \$1 array1&quot; (panel$1)
obj soundfiler = &quot;soundfiler&quot; (reader$1)
floatatom lenSamples = &quot;&quot; (soundfiler$1)

# ... playback array1
&#x27;&#x27;&#x27;
# ... regex parsing utilities

def compile(s_commented, filename, subpatches=None, include_canvas=True):
    s = &#x27;\n&#x27;.join([read_to_delimiter(commented_line, 0, &#x27;#&#x27;)[0] for commented_line in s_commented.splitlines()])
    start_idx = 0
    base_x = 25
    base_y = 25
    current_x = base_x
    current_y = base_y
    line_step = 0  # type=0 identifier=1 text=2 wiring=3 funcdef=10 funccall=20 error=-1
    if subpatches is None:
        subpatches = {}
    lines = []
    connections = []
    functions = {}
    pending_connections = {}
    current_fn = None
    while start_idx &gt;= 0:
        if line_step == 0:
            # parse stuff, increase start_idx,
            # do stuff, update line_step, repeat
        elif line_step == 1:
            # ...
</code></pre>
<h2 id="attempt-2" style="position:relative"><a href="#attempt-2" aria-label="attempt 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attempt 2</h2>
<p>After I had worked with my hacked-together version for a while, I identified
some pros and cons.</p>
<ul>
<li><span class="font-bold text-lg text-green-500">+</span>
things can have variable names</li>
<li><span class="font-bold text-lg text-red-500">−</span>
commas and dollar signs need to be escaped manually</li>
<li><span class="font-bold text-lg text-red-500">−</span>
no autocomplete or syntax highlighting</li>
<li><span class="font-bold text-lg text-red-500">−</span>
the parser is a giant switch statement</li>
<li><span class="font-bold text-lg text-red-500">−</span>
no support for loops, which would be helpful to create many
similar objects</li>
<li>
<p><span class="font-bold text-lg text-red-500">−</span>
the parser assumes each object constructor takes one string and a list of
connections</p>
<ul>
<li><code>floatatom</code> ignores the string</li>
<li><code>array</code> converts the string to a positive integer</li>
</ul>
</li>
</ul>
<p>With the last two, I realized that I should have written the compiler as a
Python library, and more importantly I should have designed it so that people
could actually use it.</p>
<p>In the second version, I moved the task of building a patch into a class, which
keeps track of each element&#x27;s content, position and size. The different types of
PureData objects also became classes, which are constructed with only the data
they need. Python&#x27;s ability to overload indexers via <code>__getitem__</code> made it
easy to refer to outlets as integer-keyed properties of their owner objects.</p>
<h3 id="example-usage" style="position:relative"><a href="#example-usage" aria-label="example usage permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example Usage</h3>
<pre><code class="language-python">from puredata_compiler import Patch, write_file


def example():
    &quot;&quot;&quot;Patch that increments a counter&quot;&quot;&quot;
    patch = Patch()
    obj, msg, floatatom, connect = patch.get_creators(&#x27;obj, msg, floatatom, connect&#x27;)

    bang = msg(&#x27;bang&#x27;)
    delay_params = msg(&#x27;500&#x27;, new_row=0, new_col=1)
    delay_trig = obj(&#x27;t b f&#x27;, delay_params[0])
    delay = obj(&#x27;delay&#x27;, delay_trig[0], delay_trig[1])

    start_val = obj(&#x27;f&#x27;, (bang[0], delay[0]), x_pos=25, y_pos=125)
    increment = floatatom(new_row=0)
    current_val = obj(&#x27;+&#x27;, start_val[0], increment[0])
    # connect is different - it takes an existing element and adds connections,
    # so you can create circular structures
    connect(start_val, (), current_val[0])
    current_val_display = floatatom(current_val[0])

    return patch

if __name__ == &quot;__main__&quot;:
    pd_example = example()
    write_file(&#x27;pd_example.pd&#x27;, str(pd_example))
</code></pre>
<h3 id="result" style="position:relative"><a href="#result" aria-label="result permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Result</h3>
<p><img src="/assets/puredata-compiler1.png" alt="pd_example.pd"/></p>
<h2 id="future-improvements" style="position:relative"><a href="#future-improvements" aria-label="future improvements permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Future improvements</h2>
<p>This is the first Python project that I&#x27;ve written using <a href="https://docs.python.org/3/library/typing.html">type hints</a>,
and I was impressed by their descriptive power. The type checker caught many of
my errors right away, and writing the signatures and docstrings for each
function forced me to think about possible design issues.</p>
<p>Since having a type system was so beneficial in writing this compiler, I think
it would be nice to implement one for PureData, which often generates type
errors like &quot;signal outlet connected to nonsignal inlet&quot;. This would be
difficult though, because the number of inlets or outlets an object has can
change based on its text content.</p>
<p>Support for more complex PureData elements could be added fairly easily - I only
included the bare minimum because my Android app works with
<a href="https://github.com/libpd/pd-for-android"><code>libpd</code></a>, and the patch is never seen
by users.</p></div></div></div></main><footer class="px-5 mt-10"><div class="container mx-auto pt-5 pb-10 text-sm parskip-0"><p>© Dylan Burati <!-- -->2020</p><p>Built with <a href="https://www.gatsbyjs.org">Gatsby</a></p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/puredata-compiler/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-7d6dfab59feff87d40bd.js"],"app":["/app-c75bb9f9bef062204591.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-b322ad9879dec2409714.js"],"component---src-pages-chat-js":["/component---src-pages-chat-js-9a2b7a139359d076812d.js"],"component---src-pages-index-js":["/component---src-pages-index-js-6fdb017322e7f36cf3bd.js"],"component---src-pages-todo-js":["/component---src-pages-todo-js-86d7ede7eac7a1fe5bf7.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-a20875c9afaeacbc876a.js"]};/*]]>*/</script><script src="/polyfill-7d6dfab59feff87d40bd.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-a20875c9afaeacbc876a.js" async=""></script><script src="/commons-b4e649402805a70aaf71.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-c75bb9f9bef062204591.js" async=""></script><script src="/framework-cd3e1e804d552fa282ef.js" async=""></script><script src="/webpack-runtime-b7e37034489d42b24f2a.js" async=""></script></body></html>