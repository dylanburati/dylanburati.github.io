<!doctype html><html lang="en"><head><link rel="icon" href="/favicon-32x32.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"><link rel="manifest" href="/manifest.webmanifest"><link rel="apple-touch-icon" href="/icons/icon-48x48.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"><link rel="apple-touch-icon" href="/icons/icon-72x72.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"><link rel="apple-touch-icon" href="/icons/icon-96x96.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"><link rel="apple-touch-icon" href="/icons/icon-144x144.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"><link rel="apple-touch-icon" href="/icons/icon-192x192.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"><link rel="apple-touch-icon" href="/icons/icon-256x256.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"><link rel="apple-touch-icon" href="/icons/icon-384x384.png?v=63e0b008eeeb829346581f2691cad995" type="image/png"><link rel="apple-touch-icon" href="/icons/icon-512x512.png?v=63e0b008eeeb829346581f2691cad995" type="image/png">
      <title data-react-helmet="true">Fundamentals of CS 1 | Dylan Burati</title>
      <meta data-react-helmet="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-react-helmet="true" name="description" content="My personal website, built with Gatsby">
      
      <script type="text/javascript">!function(){try{var t=localStorage.theme||"light";document.documentElement.dataset.theme=t}catch(t){}}()</script>
    <script defer src="/index.RGNPP76D.js"></script><link rel="stylesheet" href="/index.T6I5GL4E.css"></head>
    <body>
      <div id="root"><nav class="py-3 px-5 bg-navy-dark"><div class="container flex items-center mx-auto"><a class="font-semibold text-xl text-gray-200 hover:text-white" href="/">Dylan Burati</a><button title="Toggle Theme" class="text-gray-400 hover:text-white ml-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-current" style="fill:transparent"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button><div class="flex-grow"></div><a title="Blog" class="text-gray-400 hover:text-white ml-4" href="/blog">Blog</a><a title="GitHub" class="text-gray-400 hover:text-white ml-4" href="https://github.com/dylanburati"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-current" style="fill:transparent" aria-label="GitHub"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a title="LinkedIn" class="text-gray-400 hover:text-white ml-4" href="https://linkedin.com/in/dylanburati"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-current" style="fill:transparent" aria-label="LinkedIn"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></div></nav><main class="px-5 post"><div class="container mx-auto"><div class="my-8"><h1 class="mb-0">Fundamentals of CS 1</h1><span class="text-pen-lighter">10/26/2019<span class="px-3 text-paper-dark text-lg pb-px">|</span>Dylan Burati</span></div><div data-md-article=""><p>Notes/tools for Northeastern's intro to CS class.</p>
<h2 id="background">Background</h2>
<p>Northeastern's computer science faculty decided at some point to rewrite their
introductory CS classes, to have a focus on designing programs over just writing
code. The course is taught in <a href="https://racket-lang.org">Racket</a>, or more specifically, the
<a href="https://felleisen.org/matthias/OnHtDP/Teaching_Languages___SL___Not_Racket.html">"Teaching Languages"</a>, which are subsets of Racket that limit
certain language features and promote test-driven development.</p>
<div class="table-of-contents max-w-xs shadow-lg p-5 border-paper-dark border rounded"><p class="mb-0 font-bold text-sm uppercase">TABLE OF CONTENTS</p><div class="mt-2 mr-5"><ul><li><a href="#background">Background</a></li><li><a href="#notes">Notes</a><ul><li><a href="#design-recipe">Design Recipe</a></li><li><a href="#following-the-design-recipe">Following the Design Recipe</a></li><li><a href="#list-abstractions">List Abstractions</a></li><li><a href="#local-lambda">Local, Lambda</a></li><li><a href="#multiple-complex-inputs">Multiple complex inputs</a></li></ul></li><li><a href="#linter">Linter</a></li></ul></div></div>
<h2 id="notes">Notes</h2>
<h3 id="design-recipe">Design Recipe</h3>
<ul>
<li>Functions<!-- -->
<ol>
<li>Write a signature</li>
<li>Write a purpose statement</li>
<li>Write at least 2 tests*</li>
<li>Write the code</li>
</ol>
</li>
</ul>
<p>Tests have to cover every edge case -- common ones include the empty list, empty
string, negative numbers or zero, etc. If the data type is an enumeration or
union, the tests should cover each enumeration value or subtype.</p>
<p>It is not possible to test functions that <em>call</em> <code>big-bang</code> with the tools we
have, because the return value is affected by user input. The functions which
handle events from <code>big-bang</code> should be tested like any other function.
Functions which call <code>random</code> should be checked with <code>check-random</code>, and
functions which may return inexact numbers have <code>check-within</code> tests.</p>
<ul>
<li>Data 0. Complete this step above the function if you use a type that isn't
well-known (not needed for String, Int, PositiveReal, Boolean, etc.)<!-- -->
<ol>
<li>Write a data definition stating the type name and what data it can hold</li>
<li>Write an interpretation statement for the type</li>
<li>Write some constants that have the type (these are used later for testing)</li>
<li><strong>Write a template that branches, deconstructs, and/or recurses through
this type of data, calling templates when encountering other designed
types</strong></li>
</ol>
</li>
</ul>
<p>Example:</p>
<pre><code class="hljs language-scheme"><span class="hljs-comment">; A Side is one of:</span>
<span class="hljs-comment">; - "left"</span>
<span class="hljs-comment">; - "center"</span>
<span class="hljs-comment">; - "right"</span>
<span class="hljs-comment">; and represents the horizontal position of one thing relative to another</span>

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> SIDE-LEFT <span class="hljs-string">"left"</span>)
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> SIDE-CENTER <span class="hljs-string">"center"</span>)
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> SIDE-RIGHT <span class="hljs-string">"right"</span>)

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">side-temp</span> side)
  (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
    (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
      [(<span class="hljs-name"><span class="hljs-built_in">string=?</span></span> side SIDE-LEFT) ...]
      [(<span class="hljs-name"><span class="hljs-built_in">string=?</span></span> side SIDE-CENTER) ...]
      [(<span class="hljs-name"><span class="hljs-built_in">string=?</span></span> side SIDE-RIGHT) ...])))

(<span class="hljs-name">define-struct</span> weight [<span class="hljs-name">side</span> mass])
<span class="hljs-comment">; A Weight is a (make-weight Side NonNegativeReal)</span>
<span class="hljs-comment">; and represents a weight on a see-saw</span>
<span class="hljs-comment">; - the side of the see-saw it is on</span>
<span class="hljs-comment">; - its mass in kilograms</span>

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> WEIGHT-0 (<span class="hljs-name">make-weight</span> SIDE-RIGHT <span class="hljs-number">0.0</span>))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> WEIGHT-1 (<span class="hljs-name">make-weight</span> SIDE-LEFT <span class="hljs-number">1.0</span>))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> WEIGHT-2 (<span class="hljs-name">make-weight</span> SIDE-CENTER <span class="hljs-number">2.0</span>))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> WEIGHT-3 (<span class="hljs-name">make-weight</span> SIDE-RIGHT <span class="hljs-number">3.0</span>))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">weight-temp</span> w)
  (<span class="hljs-name"><span class="hljs-built_in">...</span></span> (<span class="hljs-name">side-temp</span> (<span class="hljs-name">weight-side</span> w))
   ... (<span class="hljs-name">weight-mass</span> w)))

<span class="hljs-comment">; A SeeSaw is one of:</span>
<span class="hljs-comment">; - empty</span>
<span class="hljs-comment">; - (cons Weight SeeSaw)</span>
<span class="hljs-comment">; and represents either a see-saw with one or more weights</span>

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> SEESAW-0 empty)
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> SEESAW-1 (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> WEIGHT-1 SEESAW-0))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> SEESAW-2 (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> WEIGHT-2 SEESAW-1))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> SEESAW-3 (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> WEIGHT-3 SEESAW-2))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">seesaw-temp</span> lst)
  (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
    (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
      [(<span class="hljs-name">empty?</span> los) ...]
      [(<span class="hljs-name">cons?</span> los)
        (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
          (<span class="hljs-name">weight-temp</span> (<span class="hljs-name">first</span> lst))
          (<span class="hljs-name">seesaw-temp</span> (<span class="hljs-name">rest</span> lst)))])))
</code></pre>
<h3 id="following-the-design-recipe">Following the Design Recipe</h3>
<p>If the template calls another template, it indicates that the function using the
template needs another function to do work on the other data type. Other indicators
are long and nested parts of the function, repeated selectors, and if statements
deciding between similar recursive calls.</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> ACCEL-GRAVITY <span class="hljs-number">9.8</span>)
<span class="hljs-comment">; seesaw-torque : SeeSaw PosNumber -> Number</span>
<span class="hljs-comment">; Determines the torque in newton-meters on a see-saw with the given length in meters</span>
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">seesaw-torque</span> SEESAW-0 <span class="hljs-number">2</span>) <span class="hljs-number">0</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">seesaw-torque</span> SEESAW-1 <span class="hljs-number">2</span>) <span class="hljs-number">9.8</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">seesaw-torque</span> SEESAW-2 <span class="hljs-number">2</span>) <span class="hljs-number">9.8</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">seesaw-torque</span> SEESAW-3 <span class="hljs-number">2</span>) <span class="hljs-number">-19.6</span>)
<span class="hljs-comment">; bad example</span>
<span class="hljs-comment">; (define (seesaw-torque lst len)</span>
<span class="hljs-comment">;   (cond</span>
<span class="hljs-comment">;     [(empty? los) 0]</span>
<span class="hljs-comment">;     [(cons? los)</span>
<span class="hljs-comment">;      (+</span>
<span class="hljs-comment">;       (*</span>
<span class="hljs-comment">;         len</span>
<span class="hljs-comment">;         -1</span>
<span class="hljs-comment">;         (cond</span>
<span class="hljs-comment">;           [(string=? (weight-side (first lst)) SIDE-LEFT) -0.5]</span>
<span class="hljs-comment">;           [(string=? (weight-side (first lst)) SIDE-CENTER) 0]</span>
<span class="hljs-comment">;           [(string=? (weight-side (first lst)) SIDE-RIGHT) 0.5])</span>
<span class="hljs-comment">;         ACCEL-GRAVITY</span>
<span class="hljs-comment">;         (weight-mass (first lst)))</span>
<span class="hljs-comment">;       (seesaw-torque (rest lst) len))]))</span>
</code></pre>
<p>Note: inlining an <code>if</code> returning 0 or 1 can be OK, but it's always preferred to
use helper functions.</p>
<pre><code class="hljs language-scheme"><span class="hljs-comment">; same tests</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">seesaw-torque</span> lst len)
  (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
    [(<span class="hljs-name">empty?</span> los) <span class="hljs-number">0</span>]
    [(<span class="hljs-name">cons?</span> los)
     (<span class="hljs-name"><span class="hljs-built_in">+</span></span>
      (<span class="hljs-name">weight-torque</span> (<span class="hljs-name">first</span> lst) len)
      (<span class="hljs-name">seesaw-torque</span> (<span class="hljs-name">rest</span> lst) len))]))

<span class="hljs-comment">; weight-torque : Weight PosNumber -> Number</span>
<span class="hljs-comment">; Returns the torque that this weight would exert on a see-saw with the given length</span>
<span class="hljs-comment">; in meters. The fulcrum of the see-saw is at its center, and gravity is 9.8 m/s^2.</span>
<span class="hljs-comment">; Weights on the left will generate positive, counter-clockwise torque</span>
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">weight-torque</span> WEIGHT-0) <span class="hljs-number">0</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">weight-torque</span> WEIGHT-1) <span class="hljs-number">9.8</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">weight-torque</span> WEIGHT-2) <span class="hljs-number">0</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">weight-torque</span> WEIGHT-3) <span class="hljs-number">-29.4</span>)
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">weight-torque</span> w len)
  (<span class="hljs-name"><span class="hljs-built_in">*</span></span>
    len
    <span class="hljs-number">-1</span> (<span class="hljs-name">dist-to-center</span> (<span class="hljs-name">weight-side</span> w))
    ACCEL-GRAVITY
    (<span class="hljs-name">weight-mass</span> w)))

<span class="hljs-comment">; dist-to-center : Side -> Number</span>
<span class="hljs-comment">; Returns the distance of the given side to the center position.</span>
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">dist-to-center</span> SIDE-LEFT) <span class="hljs-number">-0.5</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">dist-to-center</span> SIDE-CENTER) <span class="hljs-number">0</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">dist-to-center</span> SIDE-RIGHT) <span class="hljs-number">0.5</span>)
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">dist-to-center</span> side)
  (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
    [(<span class="hljs-name"><span class="hljs-built_in">string=?</span></span> side SIDE-LEFT) <span class="hljs-number">-0.5</span>]
    [(<span class="hljs-name"><span class="hljs-built_in">string=?</span></span> side SIDE-CENTER) <span class="hljs-number">0</span>]
    [(<span class="hljs-name"><span class="hljs-built_in">string=?</span></span> side SIDE-RIGHT) <span class="hljs-number">0.5</span>]))
</code></pre>
<h3 id="list-abstractions">List Abstractions</h3>
<pre><code class="hljs language-scheme"><span class="hljs-comment">;;; (length (build-list n ??)) === n</span>
<span class="hljs-comment">; (X) NatNum [NatNum -> X] -> [List-of X]</span>
<span class="hljs-comment">; constructs a list by applying f to 0, 1, ..., (sub1 n)</span>
<span class="hljs-comment">; (build-list n f) == (list (f 0) ... (f (- n 1)))</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">build-list</span> n f) ...)

<span class="hljs-comment">;;; (length (filter p lx)) &#x3C;= (length lx)</span>
<span class="hljs-comment">; (X) [X -> Boolean] [List-of X] -> [List-of X]</span>
<span class="hljs-comment">; produces a list from those items on lx for which p holds</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">filter</span> p lx) ...)

<span class="hljs-comment">;;; elements are identical, but have known ordering in (sort lx)</span>
<span class="hljs-comment">; (X) [List-of X] [X X -> Boolean] -> [List-of X]</span>
<span class="hljs-comment">; produces a version of lx that is sorted according to cmp</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">sort</span> lx cmp) ...)

<span class="hljs-comment">;;; (length (map f lx)) === (length lx)</span>
<span class="hljs-comment">; (X Y) [X -> Y] [List-of X] -> [List-of Y]</span>
<span class="hljs-comment">; constructs a list by applying f to each item on lx</span>
<span class="hljs-comment">; (map f (list x-1 ... x-n)) == (list (f x-1) ... (f x-n))</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name"><span class="hljs-built_in">map</span></span> f lx) ...)

<span class="hljs-comment">;;; For all</span>
<span class="hljs-comment">; (X) [X -> Boolean] [List-of X] -> Boolean</span>
<span class="hljs-comment">; determines whether p holds for every item on lx</span>
<span class="hljs-comment">; (andmap p (list x-1 ... x-n)) == (and (p x-1) ... (p x-n))</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">andmap</span> p lx) ...)

<span class="hljs-comment">;;; There exists</span>
<span class="hljs-comment">; (X) [X -> Boolean] [List-of X] -> Boolean</span>
<span class="hljs-comment">; determines whether p holds for at least one item on lx</span>
<span class="hljs-comment">; (ormap p (list x-1 ... x-n)) == (or (p x-1) ... (p x-n))</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">ormap</span> p lx) ...)

<span class="hljs-comment">; (X Y) [X Y -> Y] Y [List-of X] -> Y</span>
<span class="hljs-comment">; applies f from right to left to each item in lx and b</span>
<span class="hljs-comment">; (foldr f b (list x-1 ... x-n)) == (f x-1 ... (f x-n b))</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">foldr</span> f b lx) ...)

<span class="hljs-comment">; (X Y) [X Y -> Y] Y [List-of X] -> Y</span>
<span class="hljs-comment">; applies f from left to right to each item in lx and b</span>
<span class="hljs-comment">; (foldl f b (list x-1 ... x-n)) == (f x-n ... (f x-1 b))</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">foldl</span> f b lx) ...)

<span class="hljs-comment">; factorial : NonNegInt -> PosInt</span>
<span class="hljs-comment">; Returns n! by generating the range [1..n] as a list, and</span>
<span class="hljs-comment">; folding with the function `*`</span>
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">factorial</span> <span class="hljs-number">0</span>) <span class="hljs-number">1</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">factorial</span> <span class="hljs-number">1</span>) <span class="hljs-number">1</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">factorial</span> <span class="hljs-number">3</span>) <span class="hljs-number">6</span>)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">factorial</span> <span class="hljs-number">6</span>) <span class="hljs-number">720</span>)
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">factorial</span> n)
  (<span class="hljs-name">foldr</span>
    * <span class="hljs-number">1</span>
    (<span class="hljs-name">build-list</span> n add1)))
</code></pre>
<h3 id="local-lambda">Local, Lambda</h3>
<p>A local scope can allow you to define a function that references a function
argument without requiring that argument as input. Using <code>lambda</code> or <code>λ</code>
(Ctrl+\) also creates a function in the local scope.</p>
<pre><code class="hljs language-scheme"><span class="hljs-comment">; usd-to-euro : [List-of Number] Number -> [List-of Number]</span>
<span class="hljs-comment">; Converts all the currency values in the given list from USD to EUR,</span>
<span class="hljs-comment">; using the given number as the EUR/USD rate</span>

(<span class="hljs-name">check-expect</span> (<span class="hljs-name">usd-to-euro</span> empty <span class="hljs-number">1.1</span>) empty)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">usd-to-euro</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">6</span>) <span class="hljs-number">1.5</span>) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">3</span> <span class="hljs-number">6</span> <span class="hljs-number">9</span>))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">usd-to-euro</span> lon rate)
  (<span class="hljs-name">local</span> [<span class="hljs-comment">; multiply-by-rate : Number -> Number</span>
          <span class="hljs-comment">; Multiplies the given number by `rate`, which is passed in to `usd-to-euro`</span>
          (<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">multiply-by-rate</span> x)
            (<span class="hljs-name"><span class="hljs-built_in">*</span></span> x rate))]
    (<span class="hljs-name"><span class="hljs-built_in">map</span></span> multiply-by-rate lon)))

<span class="hljs-comment">; alternatively</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">usd-to-euro/v2</span> lon rate)
  (<span class="hljs-name"><span class="hljs-built_in">map</span></span>
    (<span class="hljs-name">λ</span> (<span class="hljs-name">x</span>) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> x rate))
    lon))
</code></pre>
<h3 id="multiple-complex-inputs">Multiple complex inputs</h3>
<p>Determine which type of processing the function will do:</p>
<ol>
<li>Sequential - apply one template and then the other</li>
<li>Parallel - determine all situations via "joint" templates</li>
<li>Cross - use template for one, with template for other as inner call</li>
</ol>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">list-temp</span> loa)
  (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
   (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
     [(<span class="hljs-name">empty?</span> loa) ...]
     [(<span class="hljs-name">cons?</span> loa)
      (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
       (<span class="hljs-name">first</span> loa)
       (<span class="hljs-name">list-temp</span> (<span class="hljs-name">rest</span> loa)))])))

<span class="hljs-comment">;;; Sequential</span>
<span class="hljs-comment">; append-lists : [List-of Any] [List-of Any] -> [List-of Any]</span>
<span class="hljs-comment">; Reimplements `append`. The template for the second list is replaced</span>
<span class="hljs-comment">; with `l2`.</span>
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">append-lists</span> empty (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>)) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>))
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">append-lists</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>) empty) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>))
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">append-lists</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-string">"a"</span>) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>)) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-string">"a"</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">append-lists</span> l1 l2)
  (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
    [(<span class="hljs-name">empty?</span> l1) l2]
    [(<span class="hljs-name">cons?</span> l1)
     (<span class="hljs-name"><span class="hljs-built_in">cons</span></span>
      (<span class="hljs-name">first</span> l1)
      (<span class="hljs-name">append-lists</span> (<span class="hljs-name">rest</span> l1) l2))]))


<span class="hljs-comment">; A Nat is one of:</span>
<span class="hljs-comment">; - 0</span>
<span class="hljs-comment">; - (add1 Nat)</span>
<span class="hljs-comment">; and represents a natural number</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">nat-temp</span> n)
  (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
  (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
    [(<span class="hljs-name"><span class="hljs-built_in">zero?</span></span> n) ...]
    [(<span class="hljs-name"><span class="hljs-built_in">positive?</span></span> n)
     (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
      (<span class="hljs-name">nat-temp</span> (<span class="hljs-name">sub1</span> n)))])))

<span class="hljs-comment">;;; Parallel (example use case was my-list-ref)</span>
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">list-nat-temp</span> loa n)
  (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
   (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
     [(<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name">empty?</span> loa) (<span class="hljs-name"><span class="hljs-built_in">zero?</span></span> n)) ...]
     [(<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name">empty?</span> loa) (<span class="hljs-name"><span class="hljs-built_in">positive?</span></span> n))
      (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
       n
       (<span class="hljs-name">list-nat-temp</span> loa (<span class="hljs-name">sub1</span> n)))]
     [(<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name">cons?</span> loa) (<span class="hljs-name"><span class="hljs-built_in">zero?</span></span> n))
      (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
       (<span class="hljs-name">first</span> loa)
       (<span class="hljs-name">list-nat-temp</span> (<span class="hljs-name">rest</span> loa) n))]
     [(<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name">cons?</span> loa) (<span class="hljs-name"><span class="hljs-built_in">positive?</span></span> n))
      (<span class="hljs-name"><span class="hljs-built_in">...</span></span>
       (<span class="hljs-name">first</span> loa)
       n
       (<span class="hljs-name">list-nat-temp</span> (<span class="hljs-name">rest</span> loa) (<span class="hljs-name">sub1</span> n)))])))

<span class="hljs-comment">;;; Cross</span>
<span class="hljs-comment">; intersect : (X) [List-of X] [List-of X] [X X -> Boolean] -> [List-of X]</span>
<span class="hljs-comment">; returns the subset of the two lists that are common given an equality relation,</span>
<span class="hljs-comment">; in the order that they appear in the first list</span>
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">intersect</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span>) =) empty)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">intersect</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span>) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">4</span> <span class="hljs-number">1</span> <span class="hljs-number">6</span>) =) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">1</span>))
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">intersect</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-string">"a"</span> <span class="hljs-string">"b"</span>) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-string">"c"</span> <span class="hljs-string">"a"</span>) string=?) (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-string">"a"</span>))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">intersect</span> l1 l2 same?)
  (<span class="hljs-name"><span class="hljs-built_in">cond</span></span>
    [(<span class="hljs-name">empty?</span> l1) empty]
    [(<span class="hljs-name">cons?</span> l1)
     (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name">list-contains?</span> l2 (<span class="hljs-name">first</span> l1) same?)
         (<span class="hljs-name"><span class="hljs-built_in">cons</span></span>
          (<span class="hljs-name">first</span> l1)
          (<span class="hljs-name">intersect</span> (<span class="hljs-name">rest</span> l1) l2 same?))
         (<span class="hljs-name">intersect</span> (<span class="hljs-name">rest</span> l1) l2 same?))]))

<span class="hljs-comment">; list-contains? : (X) [List-of X] X [X X -> Boolean] -> Boolean</span>
<span class="hljs-comment">; returns true if the given list contains the given element, according to the</span>
<span class="hljs-comment">; equality relation</span>
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">list-contains?</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span>) <span class="hljs-number">1</span> =) true)
(<span class="hljs-name">check-expect</span> (<span class="hljs-name">list-contains?</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span>) <span class="hljs-number">1</span> =) false)
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">list-contains?</span> lox el same?)
  (<span class="hljs-name">ormap</span>
   (<span class="hljs-name">λ</span> (<span class="hljs-name">current-el</span>) (<span class="hljs-name">same?</span> el current-el))
   lox))
</code></pre>
<h2 id="linter">Linter</h2>
<p>A tool which checks that after every signature, there is a purpose statement,
≥2 tests which call the function named in the signature, and a function
definition with the same name. It also checks that there are no function
definitions without a signature, in top-level or local scopes.
<a href="https://github.com/dylanburati/teachlangs-lint">View the source</a></p>
<p>If your code generates many warnings under one function design, make sure your
signatures have spaces surrounding the arrow. <code>Number -> Number</code> denotes 1 input
and 1 output, but <code>Number-> Number</code> is read as two types called <code>Number-></code> and
<code>Number</code>.</p>
<div><div><textarea class="w-full font-mono text-sm leading-tight border-2 focus:border-accent-200 p-2 placeholder-pen-light bg-paper" placeholder="Paste code from DrRacket" spellcheck="false" style="height:25rem"></textarea></div><button class="bg-accent-200 hover:bg-accent text-white py-2 px-4 rounded">Check</button></div></div></div></main><footer class="px-5 mt-10"><div class="container mx-auto pt-5 pb-10 text-sm parskip-0"><p>© Dylan Burati <!-- -->2023</p></div></footer></div>
    
  </body></html>