{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@dylanburati/teachlangs-lint/dist/parser.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@dylanburati/teachlangs-lint/dist/linter.js","webpack:///./src/components/fundiesLinter/fundiesLinter.js","webpack:///./node_modules/@dylanburati/teachlangs-lint/dist/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js"],"names":["_classCallCheck","instance","Constructor","TypeError","racketNodeToString","node","kind","concat","children","map","join","source","ParserStatus","regexps","Map","set","Parser","code","this","root","contextStack","context","status","InProgress","key","value","Error","stepFound","matchFound","token","forEach","re","step","indices1","indices2","rexec","exec","match","index","length","normalizeRegExpExec","span","nested","push","parentCtx","pop","FoundTrailing","substring","Done","FoundUnclosed","_slicedToArray","arr","i","Array","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","err","unsupportedIterableToArray","tryParseSignature","includes","commentAsSig","replace","parser","advance","parsedSig","arrow","e","filter","n","endsWith","some","c","test","fnDef","name","purposeLines","tests","warnings","racketNodeIsConstant","racketNodeHasTemplateVars","find","TEST_FUNCTION_NAMES","tryGetTestDef","actual","searchRacketFunctionCalls","stopWhen","search","calls","stop","minChildWithCall","currentCall","body","child","_search$calls","dfs","apply","findRacketFunctionCall","predicate","tryGetFunctionDef","shorthand","names","argNames","slice","isTemplate","ChainedCond","action","actionArg","result","Linter","nodeList","options","remainingNodes","messages","templates","testThreshold","fnd","wl","title","addSignature","addPurposeLines","addTests","finalize","requireCurrentFunctionDesign","getOutputWarningLists","fnDesign","bodyWarnings","localLinter","lint","str","secondPart","_this","_loop","splice","warningList","v","_warningList$warnings","getBodyWarnings","or","testDef","_ret","_this2","_loop2","_fnDesign$warnings","fnCall","_ret2","StandardIn","props","state","handleSubmit","bind","doSubmit","render","onChange","evt","setState","target","className","placeholder","spellCheck","style","height","type","onClick","PureComponent","FundiesLinter","warningGroups","error","doLint","src","fileContent","Promise","resolve","reject","fromParser","then","wArr","msg","standardOut","groupCount","open","w","j","React","Component","defaultProps","module","exports","webpackPolyfill","deprecate","paths","Object","defineProperty","enumerable","get","l","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","prototype"],"mappings":"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","file":"14-4f66d6fd208bf23a0fab.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import _classCallCheck from \"/home/runner/work/gatsby-site/gatsby-site/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/runner/work/gatsby-site/gatsby-site/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nfunction racketNodeToString(node) {\n  if (node.kind === 'Expression') {\n    return \"(\".concat(node.children.map(racketNodeToString).join(' '), \")\");\n  }\n\n  return node.source;\n} // Returns true if the first pair starts before the second, or if they have\n// the same start point but the first is at least as long as the second.\n\n\nfunction compareStringIndices(indices1, indices2) {\n  if (indices1 == null) {\n    return false;\n  }\n\n  return indices1.index < indices2.index || indices1.index === indices2.index && indices1.length >= indices2.length;\n}\n\nfunction normalizeRegExpExec(rexec) {\n  return {\n    index: rexec.index,\n    length: rexec[0].length,\n    match: rexec[0]\n  };\n}\n\nvar regexps = new Map();\nregexps.set('LineComment', /;.*?$/m);\nregexps.set('BlockComment', /#\\|.*?\\|#/);\nregexps.set('ExpressionStart', /[[(]/);\nregexps.set('ExpressionEnd', /[\\])]/);\nregexps.set('String', /\"(?:\"|(?:[^\"]+?)*(?:\\\\\\\\\"|[^\\\\]\"))/);\nregexps.set('Number', /[-+]?(?:[0-9]+(?:\\.?[0-9]*)?|\\.[0-9]+)(?:e[-+]?[0-9]+)?/);\nregexps.set('Symbol', /'[^\\][(){}|\\s ,`\"'#][^\\][(){}|\\s ,`\"'#]*/);\nregexps.set('Variable', /[^\\][(){}|\\s ,`\"'#][^\\][(){}|\\s ,`\"'#]*/);\n\nfunction findNearestRacketNode(code) {\n  var stepFound;\n  stepFound = false;\n  var matchFound;\n  matchFound = null;\n  regexps.forEach(function (re, step) {\n    var rexec = re.exec(code);\n\n    if (rexec != null) {\n      var match = normalizeRegExpExec(rexec);\n\n      if (!compareStringIndices(matchFound, match)) {\n        matchFound = match;\n        stepFound = step;\n      }\n    }\n  });\n\n  if (stepFound === false || matchFound == null) {\n    return false;\n  }\n\n  return {\n    step: stepFound,\n    span: matchFound\n  };\n}\n\nfunction emptyExpression() {\n  return {\n    kind: 'Expression',\n    children: []\n  };\n}\n\nvar ParserStatus;\n\n(function (ParserStatus) {\n  ParserStatus[ParserStatus[\"InProgress\"] = 0] = \"InProgress\";\n  ParserStatus[ParserStatus[\"Done\"] = 1] = \"Done\";\n  ParserStatus[ParserStatus[\"FoundUnclosed\"] = 2] = \"FoundUnclosed\";\n  ParserStatus[ParserStatus[\"FoundTrailing\"] = 3] = \"FoundTrailing\";\n})(ParserStatus || (ParserStatus = {}));\n/**\r\n * Class to incrementally parse the given Student Language string, and store\r\n * the syntax tree under `root`.\r\n */\n\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(code) {\n    _classCallCheck(this, Parser);\n\n    this.code = code;\n    this.root = emptyExpression();\n    this.contextStack = [];\n    this.context = this.root;\n    this.status = ParserStatus.InProgress;\n  }\n\n  _createClass(Parser, [{\n    key: \"advance\",\n    value: function advance() {\n      if (this.status !== ParserStatus.InProgress) {\n        throw new Error('Parser can not advance past last context');\n      }\n\n      var token = findNearestRacketNode(this.code);\n\n      if (token === false) {\n        if (this.contextStack.length === 0) {\n          // finished at top level\n          this.status = ParserStatus.Done;\n        } else {\n          // finished, but the current expression is not closed\n          this.status = ParserStatus.FoundUnclosed;\n        }\n\n        return;\n      }\n\n      if (token.step === 'ExpressionStart') {\n        var nested = emptyExpression();\n        this.context.children.push(nested);\n        this.contextStack.push(this.context);\n        this.context = nested;\n      } else if (token.step === 'ExpressionEnd') {\n        var parentCtx = this.contextStack.pop();\n\n        if (parentCtx == null) {\n          this.status = ParserStatus.FoundTrailing;\n          return;\n        }\n\n        this.context = parentCtx;\n      } else {\n        // atom\n        this.context.children.push({\n          kind: token.step,\n          source: token.span.match\n        });\n      } // consume the current token\n\n\n      this.code = this.code.substring(token.span.index + token.span.length);\n    }\n  }, {\n    key: \"getLastRacketNode\",\n    value: function getLastRacketNode() {\n      if (this.context.children.length > 0) {\n        return this.context.children[this.context.children.length - 1];\n      }\n\n      return null;\n    }\n  }]);\n\n  return Parser;\n}();\n\nexport { racketNodeToString, compareStringIndices, findNearestRacketNode, ParserStatus, Parser };","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _slicedToArray from \"/home/runner/work/gatsby-site/gatsby-site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/home/runner/work/gatsby-site/gatsby-site/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/runner/work/gatsby-site/gatsby-site/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _toConsumableArray from \"/home/runner/work/gatsby-site/gatsby-site/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { isMatch } from 'lodash';\nimport { Parser, ParserStatus, racketNodeToString } from './parser';\n\nfunction emptyFunctionDesign() {\n  return {\n    kind: 'FunctionDesign',\n    name: '',\n    purposeLines: 0,\n    tests: 0,\n    warnings: []\n  };\n}\n\nfunction tryParseSignature(node) {\n  if (node.kind === 'LineComment' && node.source.includes(':') && node.source.includes('->')) {\n    var commentAsSig = \"(\".concat(node.source.replace(/^[; ]+/, '').replace(':', ' : '), \")\");\n    var parser = new Parser(commentAsSig);\n\n    while (parser.status === ParserStatus.InProgress) {\n      parser.advance();\n    }\n\n    if (parser.status === ParserStatus.Done && parser.root.children.length > 0) {\n      var parsedSig = parser.root.children[0];\n      var colon = {\n        kind: 'Variable',\n        source: ':'\n      };\n      var arrow = {\n        kind: 'Variable',\n        source: '->'\n      };\n\n      if (parsedSig.kind === 'Expression' && parsedSig.children.length > 3 && parsedSig.children[0].kind === 'Variable' && isMatch(parsedSig.children[1], colon)) {\n        var arrowIndices = parsedSig.children.map(function (e, i) {\n          return isMatch(e, arrow) ? i : -1;\n        }).filter(function (n) {\n          return n >= 0;\n        });\n\n        if (arrowIndices.length !== 1) {\n          return false;\n        }\n\n        if (parsedSig.children[0].source.endsWith('-temp') && parsedSig.children.some(function (c) {\n          return c.kind === 'Variable' && /^\\?+$/.test(c.source);\n        })) {\n          // This signature is for a template, should not return a function design\n          return false;\n        }\n\n        var fnDef = emptyFunctionDesign();\n        fnDef.name = parsedSig.children[0].source;\n        return fnDef;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction racketNodeIsConstant(node) {\n  var define = {\n    kind: 'Variable',\n    source: 'define'\n  };\n  return node.kind === 'Expression' && isMatch(node.children[0], define) && node.children[1].kind === 'Variable' && /^[A-Z0-9-]+$/.test(node.children[1].source);\n}\n\nfunction racketNodeHasTemplateVars(node) {\n  if (node.kind === 'Variable') {\n    return /^\\.{2,6}$/.test(node.source);\n  }\n\n  if (node.kind === 'Expression') {\n    return node.children.find(racketNodeHasTemplateVars) != null;\n  }\n\n  return false;\n}\n\nvar TEST_FUNCTION_NAMES = ['check-expect', 'check-random', 'check-satisfied', 'check-within', 'check-error', 'check-member-of', 'check-range'];\n\nfunction tryGetTestDef(node) {\n  if (node.kind === 'Expression' && node.children.length >= 3 && node.children[0].kind === 'Variable' && TEST_FUNCTION_NAMES.includes(node.children[0].source)) {\n    return {\n      actual: node.children[1]\n    };\n  }\n\n  return false;\n}\n\nfunction searchRacketFunctionCalls(node, stopWhen) {\n  var search = {\n    calls: [],\n    stop: false\n  };\n  var minChildWithCall = 0;\n\n  if (node.children[0].kind === 'Variable') {\n    var currentCall = {\n      name: node.children[0].source,\n      body: node\n    };\n    search.calls.push(currentCall);\n    search.stop = stopWhen(currentCall);\n\n    if (search.stop) {\n      return search;\n    }\n\n    minChildWithCall = 1;\n  }\n\n  for (var i = minChildWithCall; i < node.children.length; i++) {\n    var child = node.children[i];\n\n    if (child.kind === 'Expression') {\n      var _search$calls;\n\n      var dfs = searchRacketFunctionCalls(child, stopWhen);\n\n      (_search$calls = search.calls).push.apply(_search$calls, _toConsumableArray(dfs.calls));\n\n      search.stop = dfs.stop;\n\n      if (search.stop) {\n        return search;\n      }\n    }\n  }\n\n  return search;\n}\n\nfunction getRacketFunctionCalls(node) {\n  if (node.kind !== 'Expression') {\n    return [];\n  }\n\n  return searchRacketFunctionCalls(node, function () {\n    return false;\n  }).calls;\n}\n\nfunction findRacketFunctionCall(node, predicate) {\n  if (node.kind !== 'Expression') {\n    return null;\n  }\n\n  var search = searchRacketFunctionCalls(node, predicate);\n\n  if (!search.stop || search.calls.length === 0) {\n    return null;\n  }\n\n  return search.calls[search.calls.length - 1];\n}\n\nfunction tryGetFunctionDef(node) {\n  var define = {\n    kind: 'Variable',\n    source: 'define'\n  };\n\n  if (node.kind === 'Expression' && node.children.length === 3 && isMatch(node.children[0], define) && node.children[1].kind === 'Expression' && node.children[1].children.length > 0) {\n    var shorthand = node.children[1];\n\n    for (var i = 0; i < shorthand.children.length; i++) {\n      if (shorthand.children[i].kind !== 'Variable') {\n        return false;\n      }\n    }\n\n    var names = shorthand.children.map(function (e) {\n      return e.source;\n    });\n    return {\n      name: names[0],\n      argNames: names.slice(1),\n      isTemplate: racketNodeHasTemplateVars(node),\n      body: node.children[2]\n    };\n  }\n\n  return false;\n}\n\nvar ChainedCond = /*#__PURE__*/function () {\n  function ChainedCond(predicate, action) {\n    _classCallCheck(this, ChainedCond);\n\n    this.actionArg = predicate();\n\n    if (this.actionArg !== false) {\n      this.result = action(this.actionArg);\n    } else {\n      this.result = false;\n    }\n  }\n\n  _createClass(ChainedCond, [{\n    key: \"or\",\n    value: function or(predicate, action) {\n      if (this.actionArg !== false) {\n        return this;\n      }\n\n      return new ChainedCond(predicate, action);\n    }\n  }]);\n\n  return ChainedCond;\n}();\n\nvar Linter = /*#__PURE__*/function () {\n  function Linter(nodeList, options) {\n    _classCallCheck(this, Linter);\n\n    this.remainingNodes = nodeList;\n    this.messages = [{\n      kind: 'General',\n      warnings: []\n    }];\n    this.templates = [];\n    this.testThreshold = 2;\n\n    if (options != null && options.testThreshold != null) {\n      this.testThreshold = options.testThreshold;\n    }\n  }\n\n  _createClass(Linter, [{\n    key: \"requireCurrentFunctionDesign\",\n    value: function requireCurrentFunctionDesign() {\n      var fnd = this.messages[this.messages.length - 1];\n\n      if (fnd.kind !== 'FunctionDesign') {\n        throw new Error('The warning list at the current position is not a FunctionDesign');\n      }\n\n      return fnd;\n    }\n    /**\r\n     *\r\n     */\n\n  }, {\n    key: \"getOutputWarningLists\",\n    value: function getOutputWarningLists() {\n      var foundWarnings = this.messages.filter(function (wl) {\n        return wl.warnings.length > 0;\n      });\n      return foundWarnings.map(function (wl) {\n        var o = {\n          kind: 'Output',\n          title: wl.kind === 'FunctionDesign' ? \"In function design for \".concat(wl.name) : 'Before first function design',\n          warnings: wl.warnings\n        };\n        return o;\n      });\n    }\n    /**\r\n     * Iterate over `remainingNodes`, and return all the non-empty warning lists\r\n     *\r\n     */\n\n  }, {\n    key: \"lint\",\n    value: function lint() {\n      while (this.remainingNodes.length > 0) {\n        this.addSignature();\n\n        if (this.remainingNodes.length > 0) {\n          this.addPurposeLines();\n          this.addTests();\n          this.finalize(this.requireCurrentFunctionDesign());\n        }\n      }\n\n      return this.getOutputWarningLists();\n    }\n    /**\r\n     * Generate the final warnings for the given function design.\r\n     *\r\n     * @param fnDesign The FunctionDesign\r\n     */\n\n  }, {\n    key: \"finalize\",\n    value: function finalize(fnDesign) {\n      if (fnDesign.purposeLines < 1) {\n        fnDesign.warnings.push('no purpose statement');\n      }\n\n      if (fnDesign.tests < this.testThreshold) {\n        fnDesign.warnings.push(\"only \".concat(fnDesign.tests, \" tests\"));\n      }\n    }\n    /**\r\n     * Generate warnings for a function body\r\n     *\r\n     * @param fnDef The function definition\r\n     */\n\n  }, {\n    key: \"getBodyWarnings\",\n    value: function getBodyWarnings(fnDef) {\n      var calls = getRacketFunctionCalls(fnDef.body);\n      var bodyWarnings = [];\n      calls.filter(function (c) {\n        return c.name === 'local';\n      }).forEach(function (c, i) {\n        if (c.body.children.length >= 2 && c.body.children[1].kind === 'Expression') {\n          var localLinter = new Linter(c.body.children[1].children.slice(), {\n            testThreshold: 0\n          });\n          localLinter.lint();\n          localLinter.messages.filter(function (wl) {\n            return wl.warnings.length > 0;\n          }).forEach(function (wl) {\n            var prependor = function prependor(str) {\n              var secondPart = str.replace(/^within local .*: /, '');\n\n              if (wl.kind === 'FunctionDesign') {\n                return \"within local def of \".concat(wl.name, \": \").concat(secondPart);\n              } else {\n                return \"within local: \".concat(secondPart);\n              }\n            };\n\n            bodyWarnings.push.apply(bodyWarnings, _toConsumableArray(wl.warnings.map(prependor)));\n          });\n        }\n      });\n      return bodyWarnings;\n    }\n    /**\r\n     * Take nodes from `remainingNodes` until the next signature,\r\n     * then set the current function design.\r\n     *\r\n     * - is a signature -> consume, return\r\n     * - is a test -> warning, skip\r\n     * - is a function definition -> warning, skip\r\n     * - else skip\r\n     */\n\n  }, {\n    key: \"addSignature\",\n    value: function addSignature() {\n      var _this = this;\n\n      var _loop = function _loop() {\n        // always removes\n        var _this$remainingNodes$ = _this.remainingNodes.splice(0, 1),\n            _this$remainingNodes$2 = _slicedToArray(_this$remainingNodes$, 1),\n            node = _this$remainingNodes$2[0];\n\n        var warningList = _this.messages[_this.messages.length - 1];\n        var fnDesign = tryParseSignature(node);\n\n        if (fnDesign !== false) {\n          _this.messages.push(fnDesign);\n\n          return {\n            v: void 0\n          };\n        }\n\n        new ChainedCond(function () {\n          return tryGetFunctionDef(node);\n        }, function (fnDef) {\n          if (fnDef.isTemplate) {\n            _this.templates.push(fnDef);\n          } else {\n            var _warningList$warnings;\n\n            warningList.warnings.push(\"unexpected function definition for \".concat(fnDef.name));\n\n            (_warningList$warnings = warningList.warnings).push.apply(_warningList$warnings, _toConsumableArray(_this.getBodyWarnings(fnDef)));\n          }\n        }).or(function () {\n          return tryGetTestDef(node);\n        }, function (testDef) {\n          warningList.warnings.push(\"unexpected test: \".concat(racketNodeToString(node)));\n        });\n      };\n\n      while (this.remainingNodes.length > 0) {\n        var _ret = _loop();\n\n        if (typeof _ret === \"object\") return _ret.v;\n      }\n    }\n    /**\r\n     * Take nodes from `remainingNodes` until the end of the purpose lines,\r\n     * updating the purpose lines field of the current function design.\r\n     *\r\n     * - LineComment or BlockComment -> consume\r\n     * - is a constant -> skip\r\n     * - else return\r\n     */\n\n  }, {\n    key: \"addPurposeLines\",\n    value: function addPurposeLines() {\n      var fnDesign = this.requireCurrentFunctionDesign();\n\n      while (this.remainingNodes.length > 0) {\n        var node = this.remainingNodes[0];\n\n        if (node.kind === 'LineComment' || node.kind === 'BlockComment') {\n          fnDesign.purposeLines += 1;\n          this.remainingNodes.splice(0, 1);\n        } else if (racketNodeIsConstant(node)) {\n          this.remainingNodes.splice(0, 1);\n        } else {\n          return;\n        }\n      }\n    }\n    /**\r\n     * Take nodes from `remainingNodes` until the end of the function design (the start of the\r\n     * next signature). Updates the tests field of the current function design.\r\n     *\r\n     * - is a test -> consume\r\n     * - is a function definition -> conditional warning, skip\r\n     * - is a signature -> return\r\n     * - else skip\r\n     */\n\n  }, {\n    key: \"addTests\",\n    value: function addTests() {\n      var _this2 = this;\n\n      var fnDesign = this.requireCurrentFunctionDesign();\n\n      var _loop2 = function _loop2() {\n        var node = _this2.remainingNodes[0];\n        var nextFnDesign = tryParseSignature(node);\n\n        if (nextFnDesign !== false) {\n          return {\n            v: void 0\n          };\n        }\n\n        _this2.remainingNodes.splice(0, 1);\n\n        new ChainedCond(function () {\n          return tryGetFunctionDef(node);\n        }, function (fnDef) {\n          if (fnDef.isTemplate) {\n            _this2.templates.push(fnDef);\n          } else {\n            var _fnDesign$warnings;\n\n            if (findRacketFunctionCall(fnDef.body, function (fnCall) {\n              return fnCall.name === 'big-bang';\n            }) != null) {\n              // ignore test count warning for big bang\n              fnDesign.tests = 1000;\n            }\n\n            if (fnDef.name !== fnDesign.name) {\n              fnDesign.warnings.push(\"unexpected function definition for \".concat(fnDef.name));\n            }\n\n            (_fnDesign$warnings = fnDesign.warnings).push.apply(_fnDesign$warnings, _toConsumableArray(_this2.getBodyWarnings(fnDef)));\n          }\n        }).or(function () {\n          return tryGetTestDef(node);\n        }, function (testDef) {\n          fnDesign.tests += 1;\n\n          if (findRacketFunctionCall(testDef.actual, function (fnCall) {\n            return fnCall.name === fnDesign.name;\n          }) == null) {\n            fnDesign.warnings.push(\"expected test to call \".concat(fnDesign.name, \": \").concat(racketNodeToString(node)));\n          }\n        });\n      };\n\n      while (this.remainingNodes.length > 0) {\n        var _ret2 = _loop2();\n\n        if (typeof _ret2 === \"object\") return _ret2.v;\n      }\n    }\n  }], [{\n    key: \"fromParser\",\n    value: function fromParser(parser) {\n      if (parser.status !== ParserStatus.Done) {\n        throw new Error(\"Can't create linter for unfinished parser\");\n      }\n\n      return new Linter(parser.root.children.slice());\n    }\n  }]);\n\n  return Linter;\n}();\n\nexport { emptyFunctionDesign, tryParseSignature, racketNodeIsConstant, racketNodeHasTemplateVars, tryGetTestDef, tryGetFunctionDef, Linter };","import React, { PureComponent } from 'react';\nimport { lint } from '@dylanburati/teachlangs-lint';\n\nclass StandardIn extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { value: '' };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit() {\n    this.props.doSubmit(this.state.value);\n  }\n\n  render() {\n    return (\n      <>\n        <div>\n          <textarea\n            onChange={evt => this.setState({ value: evt.target.value })}\n            className=\"w-full font-mono text-sm leading-tight border-2 border-paper-dark focus:border-accent-200 p-2\n              placeholder-pen-light bg-paper\"\n            placeholder=\"Paste code from DrRacket\"\n            spellCheck={false}\n            style={{ height: '25rem' }}\n          />\n        </div>\n        <button\n          className=\"bg-accent-200 hover:bg-accent text-white py-2 px-4 rounded\"\n          type=\"submit\"\n          onClick={this.handleSubmit}\n        >\n          Check\n        </button>\n      </>\n    );\n  }\n}\n\nclass FundiesLinter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      warningGroups: false,\n      error: false,\n    };\n    this.doLint = this.doLint.bind(this);\n  }\n\n  doLint(src) {\n    lint(src).then(\n      wArr => {\n        this.setState({\n          warningGroups: wArr,\n          error: false,\n        });\n      },\n      msg => {\n        this.setState({\n          warningGroups: false,\n          error: msg,\n        });\n      }\n    );\n  }\n\n  render() {\n    let standardOut = null;\n    if (this.state.error !== false) {\n      standardOut = (\n        <div className=\"mt-4\">\n          <em className=\"font-bold text-danger\">{this.state.error}</em>\n        </div>\n      );\n    } else if (Array.isArray(this.state.warningGroups)) {\n      const groupCount = this.state.warningGroups.length;\n      standardOut = (\n        <div className=\"mt-4\">\n          <h3>{groupCount === 0 ? '0 warnings' : 'Warnings'}</h3>\n\n          {this.state.warningGroups.map(({ title, warnings }, i) => (\n            <details className=\"mb-4\" open={true} key={i}>\n              <summary className=\"p-1 bg-paper-darker cursor-pointer\">\n                {title}\n              </summary>\n              {warnings.map((w, j) => (\n                <p className=\"ml-6 mb-0 text-sm font-mono\" key={j}>\n                  {w}\n                </p>\n              ))}\n            </details>\n          ))}\n        </div>\n      );\n    }\n    return (\n      <div className={this.props.className}>\n        <StandardIn doSubmit={this.doLint}></StandardIn>\n        {standardOut}\n      </div>\n    );\n  }\n}\n\nFundiesLinter.defaultProps = {\n  className: '',\n};\n\nexport default FundiesLinter;\n","import { Parser, ParserStatus } from './parser';\nimport { Linter } from './linter';\n\nfunction lint(fileContent) {\n  return new Promise(function (resolve, reject) {\n    var parser = new Parser(fileContent);\n\n    while (parser.status === ParserStatus.InProgress) {\n      parser.advance();\n    }\n\n    if (parser.status === ParserStatus.Done) {\n      resolve(Linter.fromParser(parser).lint());\n    } else if (parser.status === ParserStatus.FoundTrailing) {\n      reject('Syntax error in file: trailing characters');\n    } else if (parser.status === ParserStatus.FoundUnclosed) {\n      reject('Syntax error in file: unmatched parenthesis or bracket');\n    } else {\n      reject('Unknown error');\n    }\n  });\n}\n\nexport { lint };","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}"],"sourceRoot":""}